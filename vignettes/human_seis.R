## ----include = FALSE----------------------------------------------------------
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)

## -----------------------------------------------------------------------------
library(ramp.xds)
library(ramp.library)

## ----echo=F-------------------------------------------------------------------
#devtools::load_all()

## -----------------------------------------------------------------------------
HPop = 1000
MYZo = list(Z = 2000/365, f=1, q=1)
Xo = list(b= 0.5)

## -----------------------------------------------------------------------------
seis = xds_setup(Xname = "SEIS", MYZname = "trivial", MYZopts = MYZo, Xopts=Xo, HPop=HPop)

## -----------------------------------------------------------------------------
seis = xds_solve(seis, 3650, 15)

## -----------------------------------------------------------------------------
unlist(list_Xvars(seis$outputs$last_y, seis, 1)) -> seis_inf
seis_inf

## -----------------------------------------------------------------------------
xde_steady_state_X(1/365, 1000, seis$Xpar[[1]]) -> seis_ss
seis_ss

## -----------------------------------------------------------------------------
sum((seis_inf-seis_ss)^2) < 1e-9

## -----------------------------------------------------------------------------
SEISd = xds_setup(Xname = "SEISd", MYZname = "trivial", MYZopts = MYZo, Xopts=Xo, HPop=HPop)
SEISd = xds_solve(SEISd, Tmax = 3650, dt=15)

## -----------------------------------------------------------------------------
unlist(list_Xvars(SEISd$outputs$last_y, SEISd, 1))[1:4] -> seisd_inf
seisd_inf

## -----------------------------------------------------------------------------
xde_steady_state_X(1/365, 1000, SEISd$Xpar[[1]]) -> seisd_ss
seisd_ss

## -----------------------------------------------------------------------------
sum((seisd_inf-seisd_ss)^2) < 1e-5

